(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18438,84762,56956,e=>{"use strict";let t=(0,e.i(57475).default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["ArrowUpIcon",()=>t],18438);var a=e.i(78042),r=e.i(47163);function i({className:e,...t}){return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}e.s(["Textarea",()=>i],84762);var s=e.i(87664),n=e.i(94237);e.i(69035);let l=(0,n.cva)("group/item flex items-center border border-transparent text-sm rounded-md transition-colors [a]:hover:bg-accent/50 [a]:transition-colors duration-100 flex-wrap outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",{variants:{variant:{default:"bg-transparent",outline:"border-border",muted:"bg-muted/50"},size:{default:"p-4 gap-4 ",sm:"py-3 px-4 gap-2.5"}},defaultVariants:{variant:"default",size:"default"}});function o({className:e,variant:t="default",size:i="default",asChild:n=!1,...o}){let d=n?s.Slot:"div";return(0,a.jsx)(d,{"data-slot":"item","data-variant":t,"data-size":i,className:(0,r.cn)(l({variant:t,size:i,className:e})),...o})}(0,n.cva)("flex shrink-0 items-center justify-center gap-2 group-has-[[data-slot=item-description]]/item:self-start [&_svg]:pointer-events-none group-has-[[data-slot=item-description]]/item:translate-y-0.5",{variants:{variant:{default:"bg-transparent",icon:"size-8 border rounded-sm bg-muted [&_svg:not([class*='size-'])]:size-4",image:"size-10 rounded-sm overflow-hidden [&_img]:size-full [&_img]:object-cover"}},defaultVariants:{variant:"default"}}),e.s(["Item",()=>o],56956)},65599,e=>{"use strict";var t=e.i(78042),a=e.i(45456),r=e.i(18438),i=e.i(84762),s=e.i(67881),n=e.i(78750),l=e.i(12878),o=e.i(56956);function d(){let[e,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[f,m]=(0,a.useState)(null);async function x(){if(c.trim())try{let e=await fetch("http://localhost:8000/api/v1/chat/stream",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:c})});if(401===e.status){window.location.href="/login";return}if(!e.ok||!e.body)throw Error("Request failed");let t=e.body.getReader(),a=new TextDecoder("utf-8");for(;;){let{value:e,done:r}=await t.read();if(r)break;let i=a.decode(e,{stream:!0});d(e=>e+i)}}catch(e){console.error(e)}finally{}}return(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto flex flex-col",children:[(0,t.jsx)("div",{className:"flex flex-col justify-center items-center px-4",children:(0,t.jsx)("div",{className:"flex-1 w-full",children:(0,t.jsxs)("div",{className:"flex flex-col max-w-200 mx-auto",children:[(0,t.jsx)(o.Item,{variant:"outline",className:"self-end my-4",children:(0,t.jsx)("p",{children:"freeze height sizing of textarea and put button inside it"})}),(0,t.jsxs)("article",{className:"prose prose-slate dark:prose-invert max-w-none my-4",children:[f?(0,t.jsx)("p",{children:f}):null,(0,t.jsx)(n.default,{remarkPlugins:[l.default],children:e})]})]})})}),(0,t.jsx)("div",{className:"sticky bottom-0 border-t bg-background/95 backdrop-blur supports-backdrop-filter:bg-background/80 px-4",children:(0,t.jsxs)("div",{className:"relative max-w-200 mx-auto py-4",children:[(0,t.jsx)(i.Textarea,{className:"w-full max-h-60 resize-none",placeholder:"Ask anything",value:c,onChange:e=>u(e.target.value)}),(0,t.jsx)(s.Button,{className:"absolute right-3 bottom-7",variant:"outline",size:"icon","aria-label":"Submit",onClick:x,children:(0,t.jsx)(r.ArrowUpIcon,{})})]})})]})}e.s(["default",()=>d])}]);